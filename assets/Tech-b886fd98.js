import{r as c,j as S,a as M}from"./index-8beb32d0.js";import{_ as X,C as Z,P as q}from"./Preload-529be23d.js";import{C as J,O as K}from"./Loader-667854fa.js";import{B as Q,V as k,M as P,F as z,u as Y,a as F,T as W,b as v,E as H,c as G,O as V,d as tt,e as ot}from"./index-43782085.esm-153d635e.js";import{m as et}from"./react-merge-refs.esm-239dbb3c.js";import{S as rt}from"./SectionWrapper-6200569a.js";import{t as st}from"./index-9cb8480e.js";import"./styles-bea25d13.js";import"./motion-0a18f5d6.js";class nt extends Q{constructor(a,b,m,i){super();const A=[],j=[],g=[],w=new k,h=new P;h.makeRotationFromEuler(m),h.setPosition(b);const B=new P;B.copy(h).invert(),d(),this.setAttribute("position",new z(A,3)),this.setAttribute("normal",new z(j,3)),this.setAttribute("uv",new z(g,2));function d(){let t,o=[];const s=new k,n=new k;if(a.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const r=a.geometry,O=r.attributes.position,y=r.attributes.normal;if(r.index!==null){const u=r.index;for(t=0;t<u.count;t++)s.fromBufferAttribute(O,u.getX(t)),n.fromBufferAttribute(y,u.getX(t)),T(o,s,n)}else for(t=0;t<O.count;t++)s.fromBufferAttribute(O,t),n.fromBufferAttribute(y,t),T(o,s,n);for(o=p(o,w.set(1,0,0)),o=p(o,w.set(-1,0,0)),o=p(o,w.set(0,1,0)),o=p(o,w.set(0,-1,0)),o=p(o,w.set(0,0,1)),o=p(o,w.set(0,0,-1)),t=0;t<o.length;t++){const u=o[t];g.push(.5+u.position.x/i.x,.5+u.position.y/i.y),u.position.applyMatrix4(h),A.push(u.position.x,u.position.y,u.position.z),j.push(u.normal.x,u.normal.y,u.normal.z)}}function T(t,o,s){o.applyMatrix4(a.matrixWorld),o.applyMatrix4(B),s.transformDirection(a.matrixWorld),t.push(new U(o.clone(),s.clone()))}function p(t,o){const s=[],n=.5*Math.abs(i.dot(o));for(let r=0;r<t.length;r+=3){let O,y,u,L=0,l,f,x,D;const I=t[r+0].position.dot(o)-n,N=t[r+1].position.dot(o)-n,$=t[r+2].position.dot(o)-n;switch(O=I>0,y=N>0,u=$>0,L=(O?1:0)+(y?1:0)+(u?1:0),L){case 0:{s.push(t[r]),s.push(t[r+1]),s.push(t[r+2]);break}case 1:{if(O&&(l=t[r+1],f=t[r+2],x=E(t[r],l,o,n),D=E(t[r],f,o,n)),y){l=t[r],f=t[r+2],x=E(t[r+1],l,o,n),D=E(t[r+1],f,o,n),s.push(x),s.push(f.clone()),s.push(l.clone()),s.push(f.clone()),s.push(x.clone()),s.push(D);break}u&&(l=t[r],f=t[r+1],x=E(t[r+2],l,o,n),D=E(t[r+2],f,o,n)),s.push(l.clone()),s.push(f.clone()),s.push(x),s.push(D),s.push(x.clone()),s.push(f.clone());break}case 2:{O||(l=t[r].clone(),f=E(l,t[r+1],o,n),x=E(l,t[r+2],o,n),s.push(l),s.push(f),s.push(x)),y||(l=t[r+1].clone(),f=E(l,t[r+2],o,n),x=E(l,t[r],o,n),s.push(l),s.push(f),s.push(x)),u||(l=t[r+2].clone(),f=E(l,t[r],o,n),x=E(l,t[r+1],o,n),s.push(l),s.push(f),s.push(x));break}}}return s}function E(t,o,s,n){const r=t.position.dot(s)-n,O=o.position.dot(s)-n,y=r/(r-O);return new U(new k(t.position.x+y*(o.position.x-t.position.x),t.position.y+y*(o.position.y-t.position.y),t.position.z+y*(o.position.z-t.position.z)),new k(t.normal.x+y*(o.normal.x-t.normal.x),t.normal.y+y*(o.normal.y-t.normal.y),t.normal.z+y*(o.normal.z-t.normal.z)))}}}class U{constructor(a,b){this.position=a,this.normal=b}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const _=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function C(e,a){const b=Y(i=>i.gl),m=F(W,_(e)?Object.values(e):e);if(c.useLayoutEffect(()=>{a==null||a(m)},[a]),c.useEffect(()=>{(Array.isArray(m)?m:[m]).forEach(b.initTexture)},[b,m]),_(e)){const i=Object.keys(e),A={};return i.forEach(j=>Object.assign(A,{[j]:m[i.indexOf(j)]})),A}else return m}C.preload=e=>F.preload(W,e);C.clear=e=>F.clear(W,e);function at(e){return Array.isArray(e)}function R(e=[0,0,0]){return at(e)?e:e instanceof k||e instanceof H?[e.x,e.y,e.z]:[e,e,e]}function it({debug:e,mesh:a,children:b,position:m,rotation:i,scale:A,...j}){const g=c.useRef(null),w=c.useRef(null);return c.useLayoutEffect(()=>{const h=(a==null?void 0:a.current)||g.current.parent,B=g.current;if(!(h instanceof v))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const d={position:new k,rotation:new H,scale:new k(1,1,1)};if(h){G(d,{position:m,scale:A});const T=h.matrixWorld.clone();if(h.matrixWorld.identity(),!i||typeof i=="number"){const p=new V;p.position.copy(d.position),p.lookAt(h.position),typeof i=="number"&&p.rotateZ(i),G(d,{rotation:p.rotation})}else G(d,{rotation:i});return B.geometry=new nt(h,d.position,d.rotation,d.scale),w.current&&G(w.current,d),h.matrixWorld=T,()=>{B.geometry.dispose()}}},[a,...R(m),...R(A),...R(i)]),c.createElement("mesh",{ref:g},b||c.createElement("meshStandardMaterial",X({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},j)),e&&c.createElement("mesh",{ref:w},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}const lt=c.forwardRef(({children:e,speed:a=1,rotationIntensity:b=1,floatIntensity:m=1,floatingRange:i=[-.1,.1],...A},j)=>{const g=c.useRef(null),w=c.useRef(Math.random()*1e4);return tt(h=>{var B,d;const T=w.current+h.clock.getElapsedTime();g.current.rotation.x=Math.cos(T/4*a)/8*b,g.current.rotation.y=Math.sin(T/4*a)/8*b,g.current.rotation.z=Math.sin(T/4*a)/20*b;let p=Math.sin(T/4*a)/10;p=ot.mapLinear(p,-.1,.1,(B=i==null?void 0:i[0])!==null&&B!==void 0?B:-.1,(d=i==null?void 0:i[1])!==null&&d!==void 0?d:.1),g.current.position.y=p*m}),c.createElement("group",A,c.createElement("group",{ref:et([g,j])},e))}),ut=e=>{const[a]=C([e.imgUrl]);return S(lt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[M("ambientLight",{intensity:.25}),M("directionalLight",{position:[0,0,.05]}),S("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[M("icosahedronGeometry",{args:[1,1]}),M("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),M(it,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:a,flatShading:!0})]})]})},ct=({icon:e})=>S(Z,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[S(c.Suspense,{fallback:M(J,{}),children:[M(K,{enableZoom:!1}),M(ut,{imgUrl:e})]}),M(q,{all:!0})]}),ft=()=>M("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:st.map(e=>M("div",{className:"w-28 h-28",children:M(ct,{icon:e.icon})},e.name))}),Et=rt(ft,"");export{Et as default};
